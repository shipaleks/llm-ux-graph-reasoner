# Учет токенов и API запросов

Добавлена система учета и статистики использования LLM API, которая включает:

1. Логирование отправляемых запросов и получаемых ответов
2. Подсчет количества входящих и исходящих токенов
3. Оценку стоимости запросов на основе тарифов модели
4. Генерацию отчетов об использовании токенов

## Преимущества

- **Прозрачность** - пользователи видят объем используемых ресурсов
- **Оценка стоимости** - возможность прогнозировать затраты на обработку документов
- **Оптимизация** - данные помогают выявить места для оптимизации использования LLM API
- **Мониторинг** - возможность отслеживать успешность и продолжительность запросов

## Отчет включает

- Количество API вызовов
- Суммарное количество токенов (входящих и исходящих)
- Приблизительную стоимость обработки (в долларах США)
- Время, затраченное на API запросы
- Детализацию по использованным моделям

Отчет сохраняется в формате текстового файла и JSON для возможности дальнейшей обработки и анализа.
