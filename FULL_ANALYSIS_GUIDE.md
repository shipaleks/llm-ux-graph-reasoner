# Руководство по полному анализу текста с расширением и теориями

Это руководство описывает, как провести полный анализ текста, включая расширение графа через вопросы и генерацию теорий и гипотез.

## Пошаговая инструкция

### 1. Подготовка текста

Сначала подготовьте текстовый файл, который вы хотите проанализировать. Убедитесь, что:
- Файл содержит текст с важными концепциями и связями
- Файл находится в формате простого текста (txt)
- Размер файла не слишком большой (для больших файлов используйте стратегию разделения)

### 2. Запуск полного анализа

```bash
# Проведите полный анализ с расширением графа и генерацией теорий
./analyze_text.py path/to/your/file.txt --expand --theories
```

Для очень больших файлов используйте версию с ограничением сегментов:

```bash
# Безопасный анализ большого файла
./analyze_large_text.py path/to/your/large/file.txt --max-segments 1000 --theories --expand
```

### 3. Ожидание завершения

Полный анализ может занять значительное время из-за:
- Обработки большого количества сегментов
- Расширения графа через вопросы (наиболее длительный этап)
- Генерации и проверки теорий

Во время анализа вы увидите прогресс в логах. Когда анализ завершится, будет создан интерактивный HTML-отчет.

### 4. Изучение отчета

После завершения анализа, откройте созданный отчет:

```bash
# Откройте отчет напрямую
open output/YYYYMMDD_HHMMSS/improved_report.html

# ИЛИ используйте скрипт для открытия последнего отчета
./fix_and_open.py
```

## Что вы получите в результате полного анализа

### 1. Граф знаний
- Визуальное представление сущностей и связей
- Фильтрованная версия с наиболее важными элементами

### 2. Сущности и отношения
- Организованные по типам сущности
- Связи между ними с указанием типов отношений

### 3. Теории и гипотезы
- Обоснованные теории, объясняющие наблюдаемые взаимосвязи
- Гипотезы с доказательствами из текста
- Уровни достоверности для каждой теории и гипотезы

### 4. Паттерны
- Выявленные закономерности в данных
- Повторяющиеся структуры в графе знаний

### 5. Результаты расширения графа
- Вопросы, заданные системой для углубления понимания ключевых сущностей
- Новые инсайты, полученные в процессе расширения
- Полная история процесса расширения графа

## Примечания и советы

1. **Для лучших результатов:**
   - Используйте содержательные тексты с глубокой смысловой структурой
   - Файлы на русском языке анализируются так же, как и на английском
   - Максимальная глубина анализа достигается с параметрами `--expand` и `--theories`

2. **Решение проблем:**
   - Если анализ не завершился, используйте `./fix_report_improved.py` для создания отчета из промежуточных данных
   - Для слишком больших файлов разделите их на части или используйте `--max-segments`
   - Если в отчете не отображаются теории или результаты расширения, проверьте, что анализ был запущен с соответствующими параметрами

3. **Интерпретация результатов:**
   - Обратите внимание на теории с высоким уровнем достоверности
   - Изучите инсайты, полученные при расширении графа
   - Рассмотрите центральные сущности и их связи, указанные в метриках графа